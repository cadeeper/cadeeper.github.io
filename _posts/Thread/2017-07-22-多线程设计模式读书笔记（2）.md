---
layout: post
date: 2017-07-22 08:34:00+00:00
categories: 
- 读书笔记
tags:
- Thread
title: Immutable Pattern
---

# 概念

不可变模式，即实例能够保证自身的状态绝对不对改变，因此，访问这个实例时，可以省去使用共享互斥机制。

<!-- more -->

## Immutable（不变的）参与者
Immutable参与者是一个字段值无法更改的类，也没有任何用来更改字段值的方法。当Immutable参与者的实例创建后，状态就完全不再变化。

# 适用性

## 当实例产生，状态不再变化时
当实例创建后，状态就不再变化最首要条件。

## 实体需要共享，而且访问很频繁
使用Immutable Pattern的优点，在于不要加锁，不加锁的情况下可以提高程序的性能。所以如果需要共享，并且访问很频繁时，使用Immutable Pattern就呆以发挥出极大的优势。

# 复用性
不可变类的修改时，需要特别注意。如果对一个不可变类定义出了setter方法，或者删除了字段的final关键字，则会使得的不可变性被破坏。


>多个线程访问实例时，可能出现写写冲突，读写冲突，或读读的情况，由于不可对象无法写入，所以不会出现前两种冲突，只会有读读的情况出现，但这不算是冲突（conflict）
